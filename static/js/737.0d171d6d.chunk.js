(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[737],{7228:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},2858:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9713:function(e){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3884:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(u){i=!0,o=u}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},521:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},1109:function(e,t,r){var n=r(9713);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3038:function(e,t,r){var n=r(2858),o=r(3884),s=r(379),a=r(521);e.exports=function(e,t){return n(e)||o(e,t)||s(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},379:function(e,t,r){var n=r(7228);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},1913:function(e,t,r){"use strict";r.d(t,{Df:function(){return u},M1:function(){return f},TP:function(){return l},tx:function(){return p},z1:function(){return c}});var n=r(5861),o=r(8683),s=r(7757),a=r.n(s),i=r(5294).Z.create({baseURL:"https://api.themoviedb.org/3/",params:{}});i.interceptors.request.use((function(e){return e.params=(0,o.Z)({api_key:"8b67a89c3b3cf87de76d1484537ca872",include_adult:!1,language:"en-US"},e.params),e}));var u=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("trending/movie/day",{params:t});case 2:return r=e.sent,n=r.data,o=n.results,s=n.total_pages,e.next=8,m(o);case 8:return u=e.sent,e.abrupt("return",{movies:u,total_pages:s});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("search/movie",{params:t});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(t),{params:{append_to_response:"videos,credits"}});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(t,"/credits"));case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(a().mark((function e(t,r){var n,o,s,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("movie/".concat(t,"/reviews"),{params:r});case 2:return n=e.sent,o=n.data,s=o.results,u=o.total_pages,e.abrupt("return",{results:s,total_pages:u});case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.get("genre/movie/list");case 2:return t=e.sent,r=t.data,e.abrupt("return",r.genres);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=JSON.parse(localStorage.getItem("genres"))){e.next=6;break}return e.next=4,d();case 4:r=e.sent,localStorage.setItem("genres",JSON.stringify(r));case 6:return e.abrupt("return",t.map((function(e){return(0,o.Z)((0,o.Z)({},e),{},{genres:e.genre_ids.map((function(e){return r.find((function(t){return t.id===e})).name})).join(", ")})})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},7800:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(8683),o=r(7689),s=r(1087),a=r(722),i=r(184),u=function(e){var t=e.expiryTimestamp,r=(0,a.useTimer)({expiryTimestamp:t}),n=r.seconds,o=r.minutes,s=r.hours,u=r.days,c=r.isRunning;return(0,i.jsxs)("div",{className:"absolute top-2 w-full text-center font-bold",children:[(0,i.jsxs)("div",{className:"text-2xl uppercase font-bold",children:[u," Day",(u%10!==1||11===u)&&"s"," ",("00"+s).slice(-2),":",("00"+o).slice(-2),":",("00"+n).slice(-2)]}),u<30&&(0,i.jsx)("span",{className:"animate-pulse text-rose-600",children:c?"Coming soon!":"Just premiered!"})]})},c=r(2408),l=function(e){var t=e.id,r=e.poster_path,n=e.title,a=e.genres,l=e.popularity,f=e.release_date,p=e.vote_average,d=e.vote_count,m=e.overview,x=(0,o.TH)(),v=new Date(f),g=(new Date-v)/864e5;return(0,i.jsx)("li",{className:"movie-card max-w-full w-96 animate-[fade-in_300ms_ease-out]",children:(0,i.jsxs)(s.rU,{to:"/movies/".concat(t),state:{from:x},className:"block relative bg-gray-950 cursor-pointer overflow-hidden rounded-xl hover:-translate-y-2 transition-transform ease-in-out duration-500",children:[(0,i.jsxs)("div",{className:"relative aspect-[2/3]",children:[(0,i.jsx)("img",{className:"max-w-full aspect-[2/3] object-cover",src:r?"https://image.tmdb.org/t/p/w500".concat(r):c,alt:"poster",width:500,height:750}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-950/30 to-gray-950/20"}),(0,i.jsxs)("div",{className:"title px-4 py-2 absolute w-full bottom-0 ",children:[(0,i.jsx)("p",{className:"text-md text-gray-400 truncate",children:a}),(0,i.jsx)("h3",{className:"text-xl font-bold line-clamp-2",children:n})]})]}),(0,i.jsxs)("div",{className:"movie_info px-4 pb-4 space-y-1",children:[(0,i.jsxs)("div",{className:"stats gap-x-1 flex flex-row justify-between overflow-hidden",children:[(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h4",{className:"text-sm text-gray-400",children:"Year:"}),(0,i.jsx)("div",{children:f?f.slice(0,4):"-"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h4",{className:"text-sm text-gray-400",children:"Rating:"}),(0,i.jsx)("div",{children:p?p.toFixed(1):"-"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h4",{className:"text-sm text-gray-400",children:"Votes:"}),(0,i.jsx)("div",{children:d?d.toLocaleString("en-US"):"-"})]}),(0,i.jsxs)("div",{className:"flex flex-col",children:[(0,i.jsx)("h4",{className:"text-sm text-gray-400",children:"Popularity:"}),(0,i.jsx)("div",{children:l.toFixed(0).toLocaleString("en-US")})]})]}),(0,i.jsxs)("div",{className:"overview flex flex-col",children:[(0,i.jsx)("h4",{className:"text-xs text-gray-400",children:"Overview:"}),(0,i.jsx)("p",{className:"text-gray-100 h-12 line-clamp-2",children:m||"-"})]})]}),g<0?(0,i.jsx)(u,{expiryTimestamp:v}):g<30&&(0,i.jsx)("div",{className:"absolute top-2 w-full text-center text-2xl font-bold animate-pulse text-rose-600",children:"New release!"})]})})},f=function(e){var t=e.items,r=e.isLoading;return(0,i.jsx)("ul",{className:"grid grid-cols-1 justify-items-center gap-y-8 sm:grid-cols-2 sm:gap-x-4 lg:grid-cols-4 2xl:gap-x-8 2xl:gap-y-12 "+(r&&"animate-pulse pointer-events-none"),children:t.map((function(e){return(0,i.jsx)(l,(0,n.Z)({},e),e.id)}))})}},6804:function(e,t,r){"use strict";var n=r(184);t.Z=function(e){var t=e.text;return(0,n.jsx)("div",{className:"grow h-32 flex items-center justify-center",children:(0,n.jsx)("p",{className:"text-lg",children:t})})}},6995:function(e,t,r){"use strict";var n=r(184);t.Z=function(e){var t=e.totalPages,r=e.activePage,o=e.onPageChange,s=function(){var e=1,n=t;t>5&&(r<=3?n=5:r>=t-2?e=t-4:(e=r-2,n=r+2));for(var o=[],s=e;s<=n;s++)o.push(s);return o}(),a=1!==r&&r-1,i=r!==t&&r+1;return(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-1 sm:justify-between",children:[(0,n.jsx)("div",{className:"w-full flex gap-x-2 justify-center sm:w-auto",children:s.map((function(e){return(0,n.jsx)("button",{disabled:e===r,className:"relative h-10 w-10 select-none rounded-lg text-xs font-medium transition-colors hover:bg-gray-700 focus:bg-gray-700 disabled:bg-gray-900 disabled:pointer-events-none",type:"button",onClick:function(){return o(e)},children:(0,n.jsx)("span",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2",children:e})},e)}))}),(0,n.jsxs)("button",{disabled:Boolean(!a),className:"flex gap-x-2 px-6 py-3 text-xs font-bold uppercase transition-colors rounded-lg select-none hover:bg-gray-700 disabled:pointer-events-none disabled:opacity-50 sm:-order-1",type:"button",onClick:function(){return o(a)},children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"Previous"]}),(0,n.jsxs)("button",{disabled:Boolean(!i),className:"flex gap-x-2 px-6 py-3 text-xs font-bold uppercase transition-colors rounded-lg select-none hover:bg-gray-700 disabled:pointer-events-none disabled:opacity-50",type:"button",onClick:function(){return o(i)},children:["Next",(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true",className:"w-4 h-4",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})}},722:function(e,t,r){var n,o=r(1109).default,s=r(3038).default,a=r(4575).default,i=r(3913).default;"undefined"!=typeof self&&self,e.exports=(n=r(2791),function(){"use strict";var e={156:function(e){e.exports=n}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var u={};return function(){r.r(u),r.d(u,{default:function(){return x},useStopwatch:function(){return d},useTime:function(){return m},useTimer:function(){return p}});var e=r(156),t=function(){function e(){a(this,e)}return i(e,null,[{key:"expiryTimestamp",value:function(e){var t=new Date(e).getTime()>0;return t||console.warn("react-timer-hook: { useTimer } Invalid expiryTimestamp settings",e),t}},{key:"onExpire",value:function(e){var t=e&&"function"==typeof e;return e&&!t&&console.warn("react-timer-hook: { useTimer } Invalid onExpire settings function",e),t}}]),e}(),n=function(){function e(){a(this,e)}return i(e,null,[{key:"getTimeFromSeconds",value:function(e){var t=Math.ceil(e),r=Math.floor(t/86400),n=Math.floor(t%86400/3600),o=Math.floor(t%3600/60);return{totalSeconds:t,seconds:Math.floor(t%60),minutes:o,hours:n,days:r}}},{key:"getSecondsFromExpiry",value:function(e,t){var r=e-(new Date).getTime();if(r>0){var n=r/1e3;return t?Math.round(n):n}return 0}},{key:"getSecondsFromPrevTime",value:function(e,t){var r=(new Date).getTime()-e;if(r>0){var n=r/1e3;return t?Math.round(n):n}return 0}},{key:"getSecondsFromTimeNow",value:function(){var e=new Date;return e.getTime()/1e3-60*e.getTimezoneOffset()}},{key:"getFormattedTimeFromSeconds",value:function(t,r){var n=e.getTimeFromSeconds(t),o=n.seconds,s=n.minutes,a=n.hours,i="",u=a;return"12-hour"===r&&(i=a>=12?"pm":"am",u=a%12),{seconds:o,minutes:s,hours:u,ampm:i}}}]),e}();function c(t,r){var n=(0,e.useRef)();(0,e.useEffect)((function(){n.current=t})),(0,e.useEffect)((function(){if(!r)return function(){};var e=setInterval((function(){n.current&&n.current()}),r);return function(){return clearInterval(e)}}),[r])}var l=1e3;function f(e){if(!t.expiryTimestamp(e))return null;var r=n.getSecondsFromExpiry(e),o=Math.floor(1e3*(r-Math.floor(r)));return o>0?o:l}function p(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.expiryTimestamp,i=r.onExpire,u=r.autoStart,p=void 0===u||u,d=(0,e.useState)(a),m=s(d,2),x=m[0],v=m[1],g=(0,e.useState)(n.getSecondsFromExpiry(x)),h=s(g,2),y=h[0],b=h[1],w=(0,e.useState)(p),j=s(w,2),S=j[0],T=j[1],k=(0,e.useState)(p),N=s(k,2),_=N[0],O=N[1],M=(0,e.useState)(f(x)),F=s(M,2),P=F[0],C=F[1],E=(0,e.useCallback)((function(){t.onExpire(i)&&i(),T(!1),C(null)}),[i]),D=(0,e.useCallback)((function(){T(!1)}),[]),Z=(0,e.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];C(f(e)),O(t),T(t),v(e),b(n.getSecondsFromExpiry(e))}),[]),L=(0,e.useCallback)((function(){var e=new Date;e.setMilliseconds(e.getMilliseconds()+1e3*y),Z(e)}),[y,Z]),I=(0,e.useCallback)((function(){_?(b(n.getSecondsFromExpiry(x)),T(!0)):L()}),[x,_,L]);return c((function(){P!==l&&C(l);var e=n.getSecondsFromExpiry(x);b(e),e<=0&&E()}),S?P:null),o(o({},n.getTimeFromSeconds(y)),{},{start:I,pause:D,resume:L,restart:Z,isRunning:S})}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.autoStart,a=t.offsetTimestamp,i=(0,e.useState)(n.getSecondsFromExpiry(a,!0)||0),u=s(i,2),l=u[0],f=u[1],p=(0,e.useState)(new Date),d=s(p,2),m=d[0],x=d[1],v=(0,e.useState)(l+n.getSecondsFromPrevTime(m||0,!0)),g=s(v,2),h=g[0],y=g[1],b=(0,e.useState)(r),w=s(b,2),j=w[0],S=w[1];c((function(){y(l+n.getSecondsFromPrevTime(m,!0))}),j?1e3:null);var T=(0,e.useCallback)((function(){var e=new Date;x(e),S(!0),y(l+n.getSecondsFromPrevTime(e,!0))}),[l]),k=(0,e.useCallback)((function(){f(h),S(!1)}),[h]),N=(0,e.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n.getSecondsFromExpiry(e,!0)||0,o=new Date;x(o),f(r),S(t),y(r+n.getSecondsFromPrevTime(o,!0))}),[]);return o(o({},n.getTimeFromSeconds(h)),{},{start:T,pause:k,reset:N,isRunning:j})}function m(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).format,r=(0,e.useState)(n.getSecondsFromTimeNow()),a=s(r,2),i=a[0],u=a[1];return c((function(){u(n.getSecondsFromTimeNow())}),1e3),o({},n.getFormattedTimeFromSeconds(i,t))}function x(t){if((0,e.useEffect)((function(){console.warn("react-timer-hook: default export useTimer is deprecated, use named exports { useTimer, useStopwatch, useTime } instead")}),[]),t.expiryTimestamp){var r=p(t);return o(o({},r),{},{startTimer:r.start,stopTimer:r.pause,resetTimer:function(){}})}var n=d(t);return o(o({},n),{},{startTimer:n.start,stopTimer:n.pause,resetTimer:n.reset})}}(),u}())},2408:function(e,t,r){"use strict";e.exports=r.p+"static/media/no-image-movie.f5aab7f9c1fb5622e0ad.png"}}]);
//# sourceMappingURL=737.0d171d6d.chunk.js.map