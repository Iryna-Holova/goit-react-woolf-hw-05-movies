{"version":3,"file":"static/js/767.9c14e8ae.chunk.js","mappings":"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","sources":["components/SearchForm/SearchForm.jsx","pages/MoviesPage.jsx"],"sourcesContent":["import { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nconst SearchForm = ({ onFormSubmit, isLoading }) => {\n  const [searchParams] = useSearchParams();\n  const [searchQuery, setSearchQuery] = useState(\n    searchParams.get('query') ?? ''\n  );\n\n  const handleChange = evt => {\n    setSearchQuery(evt.target.value);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    if (!searchQuery.trim()) return;\n    onFormSubmit(searchQuery);\n  };\n\n  return (\n    <form\n      onSubmit={handleSubmit}\n      className=\"relative bg-gray-300 w-full flex flex-col sm:flex-row py-2 px-2 gap-2 shadow-xl shadow-gray-900 rounded-xl\"\n    >\n      <input\n        onChange={handleChange}\n        name=\"query\"\n        value={searchQuery}\n        placeholder=\"Enter movie title...\"\n        className=\"p-2 w-full flex-1 bg-transparent rounded-md text-xl text-gray-950 text-center placeholder:text-gray-600 sm:text-start outline-none border-2 border-transparent transition-colors focus:border-gray-900\"\n      />\n      <button\n        disabled={isLoading}\n        className=\"w-full px-6 py-3 bg-gray-950 border-none rounded-md sm:w-auto will-change-transform transition-transform active:scale-[0.98] hover:scale-[1.02] disabled:opacity-70\"\n      >\n        <span className=\"font-semibold whitespace-nowrap truncate mx-auto\">\n          Search\n        </span>\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport * as moviesApi from 'api/movies';\nimport { scroll } from 'helpers';\nimport SearchForm from 'components/SearchForm/SearchForm';\nimport MovieList from 'components/MovieList/MovieList';\nimport Pagination from 'components/Shared/Pagination';\nimport Message from 'components/Shared/Message';\nimport Loader from 'components/Shared/Loader';\n\nconst MoviesPage = () => {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n  const [totalPages, setTotalPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const page = Number(searchParams.get('page')) || 1;\n  const query = searchParams.get('query');\n\n  useEffect(() => {\n    if (!query) return;\n    const getMovies = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        const { results, total_pages } = await moviesApi.searchMovies({\n          query,\n          page,\n        });\n        if (results.length === 0) {\n          setError('Nothing found...');\n          setMovies(null);\n        } else {\n          setMovies(results);\n          setTotalPages(total_pages);\n        }\n      } catch (error) {\n        setError('Something went wrong...');\n        setMovies(null);\n      } finally {\n        setLoading(false);\n      }\n    };\n    scroll.scrollToTop();\n    getMovies();\n  }, [query, page]);\n\n  const handleFormSubmit = query => setSearchParams({ query });\n\n  const handlePageChange = page => {\n    setSearchParams({ query, page });\n  };\n\n  return (\n    <main className=\"container grow flex flex-col mt-16 py-12 gap-y-8\">\n      <SearchForm onFormSubmit={handleFormSubmit} isLoading={loading} />\n      {movies ? (\n        <>\n          <MovieList items={movies} isLoading={loading} />\n          {totalPages > 1 && (\n            <Pagination\n              totalPages={totalPages}\n              activePage={page}\n              onPageChange={handlePageChange}\n            />\n          )}\n        </>\n      ) : loading ? (\n        <Loader />\n      ) : (\n        error && <Message text={error} />\n      )}\n    </main>\n  );\n};\n\nexport default MoviesPage;\n"],"names":["_ref","_searchParams$get","onFormSubmit","isLoading","_useSearchParams","useSearchParams","searchParams","_slicedToArray","_useState","useState","get","_useState2","searchQuery","setSearchQuery","_jsxs","onSubmit","evt","preventDefault","trim","className","children","_jsx","onChange","target","value","name","placeholder","disabled","_useSearchParams2","setSearchParams","movies","setMovies","_useState3","_useState4","totalPages","setTotalPages","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","page","Number","query","useEffect","getMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$moviesApi$sear","results","total_pages","_context","prev","next","moviesApi","sent","length","t0","finish","stop","apply","arguments","scroll","SearchForm","_Fragment","MovieList","items","Pagination","activePage","onPageChange","Loader","Message","text"],"sourceRoot":""}